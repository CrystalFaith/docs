---
class: post-blog post-detail
type: Blog
$title: "New in AMP: Position observers, fluid ads and improved analytics for video & beyond"
id: ads-new-in-amp-position-observers-fluid-ads-and-improved-analytics-for-video-beyond
author: Lisa Wang
role:  Product Manager, AMP Project
origin: "https://amphtml.wordpress.com/2017/09/30/new-in-amp-position-observers-fluid-ads-and-improved-analytics-for-video-beyond/amp/"
excerpt: "We’re trying out something new in the place of our regular AMP Roadmap updates. This new “New in AMP” format focuses on actionable updates. We’re also continuing to update the AMP Roadmap to reflect progress, and we will keep a section in this post dedicated to talking about where we’re heading next. But now, on [&#8230;]"
avatar: http://amphtml.files.wordpress.com/2017/09/sidebar.png
date_data: 2017-09-29T23:59:10-04:00
$date: September 29, 2017
$parent: /content/latest/list-blog.html
$path: /latest/blog/{base}/
$localization:
  path: /{locale}/latest/blog/{base}/
components:
  - social-share
  - anim
inlineCSS: .amp-wp-inline-329fdb7771c10d07df9eb73273c95a60{font-weight:400;}
---

<div class="amp-wp-article-content">

		<p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">We’re trying out something new in the place of our regular AMP Roadmap updates. This new “New in AMP” format focuses on actionable updates. We’re also continuing to update the </span><a href="https://www.ampproject.org/roadmap/"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">AMP Roadmap</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> to reflect progress, and we will keep a section in this post dedicated to talking about where we’re heading next. But now, on to the updates:</span></p><h2><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Flexible, scroll-bound animations with &lt;amp-position-observer&gt;</span></h2><p><amp-anim class=" size-full wp-image-1641 aligncenter amp-wp-enforced-sizes" src="https://amphtml.files.wordpress.com/2017/09/scrollable.gif?w=660" alt="scrollable" width="303" height="540" sizes="(min-width: 303px) 303px, 100vw"></amp-anim></p><p><a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-position-observer/amp-position-observer.md"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">amp-position-observer</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> brings flexible and performant scroll-bound animations to AMP. You can use this component to build a range of features, including parallax effects, subtle zoom or fade in of images, and starting or stopping animations as they pass through the viewport. Check out </span><a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-position-observer/amp-position-observer.md"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">the documentation</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> to learn more, and stay tuned for examples and templates.</span></p><p><!--more--></p><h2><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">&lt;amp-sidebar&gt; can now power your responsive design</span></h2><p><amp-img class=" size-full wp-image-1644 aligncenter amp-wp-enforced-sizes" src="https://amphtml.files.wordpress.com/2017/09/sidebar.png?w=660" alt="sidebar" srcset="https://amphtml.files.wordpress.com/2017/09/sidebar.png?w=660 660w, https://amphtml.files.wordpress.com/2017/09/sidebar.png?w=150 150w, https://amphtml.files.wordpress.com/2017/09/sidebar.png?w=300 300w, https://amphtml.files.wordpress.com/2017/09/sidebar.png?w=768 768w, https://amphtml.files.wordpress.com/2017/09/sidebar.png 1000w" sizes="(min-width: 660px) 660px, 100vw" width="660" height="374"></amp-img></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">With easy-to-use </span><a href="https://www.ampproject.org/docs/design/responsive_amp/control_layout"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">responsive layout</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> and features like </span><a href="https://www.ampproject.org/docs/design/responsive/control_layout"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">srcset</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">, AMP is responsive by design. We’ve now made it even easier to make responsive pages by releasing </span><a href="https://www.ampproject.org/docs/reference/components/amp-sidebar#toolbar-(experimental)"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">improvements to amp-sidebar</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> that enable changing display format based on the width of the viewport. For example, users can have a toggle-able sidebar on mobile that changes into a fixed-position header on desktop.</span></p><h2><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Native video analytics in AMP</span></h2><p><amp-img class="alignnone size-full wp-image-1646 amp-wp-enforced-sizes" src="https://amphtml.files.wordpress.com/2017/09/video_snippet.png?w=660" alt="video_snippet" srcset="https://amphtml.files.wordpress.com/2017/09/video_snippet.png?w=660 660w, https://amphtml.files.wordpress.com/2017/09/video_snippet.png?w=1320 1320w, https://amphtml.files.wordpress.com/2017/09/video_snippet.png?w=150 150w, https://amphtml.files.wordpress.com/2017/09/video_snippet.png?w=300 300w, https://amphtml.files.wordpress.com/2017/09/video_snippet.png?w=768 768w, https://amphtml.files.wordpress.com/2017/09/video_snippet.png?w=1024 1024w" sizes="(min-width: 660px) 660px, 100vw" width="660" height="137"></amp-img></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">We’ve added native AMP support for video analytics with the launch of several of new video triggers and video variables that you can use within amp-analytics to collect engagement data with an amp-video. Check out the </span><a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/amp-video-analytics.md"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">documentation</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> to learn more.</span></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Note that support is currently limited to the amp-video component, but video player vendors can integrate support with their video player implementations in AMP using the video interface. </span><a href="https://github.com/ampproject/amphtml/blob/cc0a66e9301e88964f5d1f534a623ffe9d0d186d/CONTRIBUTING.md"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Get in touch with us</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> on GitHub if you’re a video player vendor interested in doing this.</span></p><h2><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Get insight about user journeys between AMP and non-AMP with improved Client IDs</span></h2><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">We recently introduced the ability for </span><a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-viewer-integration/integrating-viewer-with-amp-doc-guide.md"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">AMP viewers</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> to more directly manage Client IDs. In terms of changes to AMP, this means that AMP viewers can now accept vendor identifiers and/or API keys included in pages by developers so that the AMP viewer can identify the party that is requesting Client ID information.</span></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">These improvements can be used to do things like provide consistent IDs between AMP and non-AMP pages. Google recently </span><a href="https://analytics.googleblog.com/2017/09/google-analytics-is-enhancing-support-for-amp-on-cache.html"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">announced</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> updates for its Google Analytics product that takes advantage of these changes to provide their customers with enhanced understanding of AMP traffic; check it out if you’re using Google Analytics for your AMP pages.</span></p><h2><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Fluid ads allow publishers to request sizeless ads</span></h2><p><amp-img class="alignnone size-full wp-image-1651 amp-wp-enforced-sizes" src="https://amphtml.files.wordpress.com/2017/09/fluid_ad.png?w=660" alt="fluid_ad" srcset="https://amphtml.files.wordpress.com/2017/09/fluid_ad.png?w=660 660w, https://amphtml.files.wordpress.com/2017/09/fluid_ad.png?w=1320 1320w, https://amphtml.files.wordpress.com/2017/09/fluid_ad.png?w=150 150w, https://amphtml.files.wordpress.com/2017/09/fluid_ad.png?w=300 300w, https://amphtml.files.wordpress.com/2017/09/fluid_ad.png?w=768 768w, https://amphtml.files.wordpress.com/2017/09/fluid_ad.png?w=1024 1024w" sizes="(min-width: 660px) 660px, 100vw" width="660" height="92"></amp-img></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">With AMP’s content reflow policy in place, we’ve heard from publishers that they are unable to request ads whose size is unknown at request time. To solve this, we are launching</span><a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-ad-network-doubleclick-impl/amp-ad-network-doubleclick-impl-internal.md#fluid-alpha"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> fluid ad support</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">. The feature is currently available for testing in open alpha.</span></p><h2><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">The best of the rest: Extension tracking, &lt;amp-ima-video&gt;, improved data freshness</span></h2><ul><li class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">We recently </span><a href="https://github.com/ampproject/amphtml/pull/10610"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">changed the way amp-bind and amp-list work together</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> to enhance support for fresh data.</span></li>
<li class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">AMP extension authors can now also </span><a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/amp-components-analytics.md"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">use amp-analytics to collect data</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> directly from the page.</span></li>
<li class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">The </span><a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-ima-video/amp-ima-video.md"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">amp-ima-video extension</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> has launched as an open beta to allow publishers to easily monetize video content. This is a lightweight way to monetize ads on your existing video content and is an addition to existing ways to monetize videos using amp-iframe or using a natively supported video player in AMP.</span></li>
<li class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">We’ve graduated the </span><a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-ad-network-doubleclick-impl/amp-ad-network-doubleclick-impl-internal.md#amp-ad-refresh-alpha"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">auto ad refresh feature </span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">and </span><a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-ad-network-doubleclick-impl/amp-ad-network-doubleclick-impl-internal.md#sra-single-request-architecture-alpha"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">SRA (Single Request Architecture) feature</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> to general availability and you can test immediately, if interested. </span></li>
</ul><h2><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">The roadmap ahead </span></h2><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">We’re also targeting a set of features mentioned in our </span><a href="https://www.ampproject.org/latest/blog/amp-roadmap-update-for-q2/"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">last update</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> for launch in Q4—this includes:</span></p><ul><li class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Improvements to </span><a href="https://www.ampproject.org/docs/reference/components/amp-image-lightbox"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">amp-image-lightbox</span></a></li>
<li class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Video features, including </span><a href="https://github.com/ampproject/amphtml/issues/8088"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">minimizing video to the corner of the viewport</span></a></li>
<li class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">New templates and simple configuration for </span><a href="http://ampstart.com"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">AMP Start</span></a></li>
<li class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">A </span><a href="https://github.com/ampproject/amphtml/issues/6469"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">date picker</span></a></li>
<li class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"><a href="https://github.com/ampproject/amphtml/issues/9074"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Messaging between amp-iframe and other elements</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> in the parent document</span></li>
</ul><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Looking ahead for analytics, some areas we are focusing on are:</span></p><ul><li class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Error logging: We are planning to add a </span><a href="https://github.com/ampproject/amphtml/issues/6415"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">trigger that will enable you to log errors</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">.This should help provide increased visibility on the kinds of problems users might be encountering as they interact with your AMP pages.</span></li>
<li class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"><a href="https://github.com/ampproject/amphtml/issues/11241"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Batched analytics</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">: In several contexts, it’s helpful to collect many analytics pings and be able to transmit them at one moment, so this feature will add support for batching in AMP.</span></li>
</ul><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Last but not least, many publishers have the need to enhance ad requests with targeting or other cookie level information before making the ad request. We are making this easy with what we are calling </span><b>RTC</b><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> (Real Time Config). With RTC, publishers will be able to define up to 5 end points to enhance the ad request before making the ad request to the primary ad server. The </span><a href="https://github.com/ampproject/amphtml/issues/11321"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">intent to implement</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> has been posted on Github and we look forward to your feedback on it. </span></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">* * *</span></p><p><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Thanks to the AMP development community for your work and feedback. As always, please </span><a href="https://www.ampproject.org/support/developer/get_support"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">let us know</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60"> if you have any issues or feature requests on </span><a href="https://github.com/ampproject/amphtml"><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">GitHub</span></a><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">.</span></p><p><i><span class="amp-wp-inline-329fdb7771c10d07df9eb73273c95a60">Posted by Lisa Wang, Product Manager, AMP Project</span></i></p>	</div>



</div>

